var HaKuGame=HaKuGame||{};$(document).ready(function(){HaKuGame.createCanvas();$("div.canvasContainer").append('<video id="Video" width="1090" height="1800" playsinline preload="auto"><source src="canvas_video/end.mp4" type="video/mp4"><source src="canvas_video/end.webm" type="video/webm"><source src="canvas_video/end.ogv" type="video/ogv">您的瀏覽器不支援html5 video播放</video>')});HaKuGame={canvasWidth:1090,canvasHeight:1800,nowGame:0,timer:null,countdown_totalTime:3,countdown_remainTime:0,game_1_totalTime:30,game_1_remainTime:0,game_1_deleteSpot:0,game_2_totalTime:20,game_2_remainTime:0,game_2_deletePart:0,renderer:null,assetsLoadingLoader:null,assetsLoader:null,loadingFinish:0,arrContainer:["game_2_container","game_1_container","countdown_container","curtain_container","opening_container","end_container","help_container","loading_container"],stage_container:null,stage:{bg:null,game_2_container:null,game_2:{title:null,face:null,count_num:null,part_container:null,part:{head:null,nose:null,chin:null,cheek_l:null,cheek_r:null},light_container:null,light:{head:null,nose:null,chin:null,cheek_l:null,cheek_r:null},oil_container:null,oil:{head:null,nose:null,chin:null,cheek_l:null,cheek_r:null},cursor:null,failure_container:null,failure:{face_bad:null,bu_again:null},success_container:null,success:{face_good:null,star_container:null,bu_finish:null,star:{star_1:null,star_2:null,star_3:null,star_4:null}}},game_1_container:null,game_1:{title:null,face:null,count_num_1:null,count_num_2:null,spot_container:null,spot:{spot_1:null,spot_2:null,spot_3:null,spot_4:null,spot_5:null,spot_6:null,spot_7:null,spot_8:null,spot_9:null,spot_10:null,spot_11:null,spot_12:null,spot_13:null,spot_14:null,spot_15:null,spot_16:null,spot_17:null,spot_18:null,spot_19:null,spot_20:null},lotion_container:null,lotion:{lotion_1:null,lotion_2:null,lotion_3:null,lotion_4:null,lotion_5:null,lotion_6:null,lotion_7:null,lotion_8:null,lotion_9:null,lotion_10:null,lotion_11:null,lotion_12:null,lotion_13:null,lotion_14:null,lotion_15:null,lotion_16:null,lotion_17:null,lotion_18:null,lotion_19:null,lotion_20:null},cursor:null,failure_container:null,failure:{face_bad:null,bu_again:null},success_container:null,success:{face_good:null,star_container:null,star:{star_1:null,star_2:null,star_3:null,star_4:null},bu_next:null}},countdown_container:null,countdown:{mask:null,count_num:null},curtain_container:null,curtain:{mask:null,curtain_r:null,curtain_l:null},opening_container:null,opening:{title:null,star_container:null,star:{star_1:null,star_2:null,star_3:null,star_4:null},cloud:null,haku:null,bu_start:null},end_container:null,end:{finalcut_container:null,finalcut:{promo:null,haku:null,cloud:null,bu_restart:null,bu_try:null}},help_container:null,help:{mask:null,haku:null,cloud:null,bu_know:null},loading_container:null,loading:{title:null,percent_b:null,percent_t:null}},createCanvas:function(){this.renderer=PIXI.autoDetectRenderer(this.canvasWidth,this.canvasHeight,{antialias:true,transparent:false,resolution:1});$("div.canvasContainer").append(this.renderer.view);this.stage_container=new PIXI.Container();this.loadCanvasAssets()},loadCanvasAssets:function(){_this=this;assetsLoadingLoader=new PIXI.loaders.Loader();assetsLoadingLoader.add("bg","canvas_img/bg.jpg").add("title","canvas_img/title.png");assetsLoadingLoader.on("progress",function(b,a){});assetsLoadingLoader.once("complete",function(b,a){_this.placeAsset(_this.stage_container,"bg",{w:1090,h:1800},{x:0,y:0});_this.stage.loading_container=new PIXI.Container();_this.initLoading();_this.stage_container.addChild(_this.stage.loading_container).name="loading_container";_this.renderer.render(_this.stage_container);_this.loadingFinish=1});assetsLoadingLoader.load();assetsLoader=new PIXI.loaders.Loader();assetsLoader.add("bg","canvas_img/bg.jpg").add("title","canvas_img/title.png").add("star","canvas_img/star.png").add("spot","canvas_img/game_1_spot.png").add("lotion","canvas_img/game_1_lotion.png").add("oil","canvas_img/game_2_oil.png").add("bu_again","canvas_img/bu_again.png").add("face","canvas_img/game_face.png").add("haku","canvas_img/haku_1.png").add("g2.title","canvas_img/game_2_title.png").add("g2.count_num","canvas_img/game_2_count_num.png").add("g2.part.head","canvas_img/game_2_part_head.png").add("g2.part.nose","canvas_img/game_2_part_nose.png").add("g2.part.chin","canvas_img/game_2_part_chin.png").add("g2.part.cheek_l","canvas_img/game_2_part_cheek_l.png").add("g2.part.cheek_r","canvas_img/game_2_part_cheek_r.png").add("g2.light.head","canvas_img/game_2_light_head.png").add("g2.light.nose","canvas_img/game_2_light_nose.png").add("g2.light.chin","canvas_img/game_2_light_chin.png").add("g2.light.cheek_l","canvas_img/game_2_light_cheek_l.png").add("g2.light.cheek_r","canvas_img/game_2_light_cheek_r.png").add("g2.cursor","canvas_img/game_2_cursor.png").add("g2.failure.face_bad","canvas_img/game_2_face_bad.png").add("g2.success.face_good","canvas_img/game_2_face_good.png").add("g2.success.bu_finish","canvas_img/bu_finish.png").add("g1.title","canvas_img/game_1_title.png").add("g1.count_num_1","canvas_img/game_1_count_num_1.png").add("g1.count_num_2","canvas_img/game_1_count_num_2.png").add("g1.cursor","canvas_img/game_1_cursor.png").add("g1.failure.face_bad","canvas_img/game_1_face_bad.png").add("g1.success.face_good","canvas_img/game_1_face_good.png").add("g1.success.bu_next","canvas_img/bu_next.png").add("countdown.count_num","canvas_img/count_num.png").add("curtain.curtain_r","canvas_img/curtain_r.jpg").add("curtain.curtain_l","canvas_img/curtain_l.jpg").add("opening.bu_start","canvas_img/bu_start.png").add("opening.cloud","canvas_img/add_cloud.png").add("end.finalcut.promo","canvas_img/add_promo.png").add("end.finalcut.haku","canvas_img/haku_2.png").add("end.finalcut.cloud","canvas_img/cloud_2.png").add("end.finalcut.bu_restart","canvas_img/bu_restart.png").add("end.finalcut.bu_try","canvas_img/bu_try.png").add("help.cloud","canvas_img/cloud_1.png").add("help.bu_know","canvas_img/bu_know.png");assetsLoader.on("progress",function(b,a){if(_this.loadingFinish===1){_this.loadBarProgress(b.progress)}});_this=this;assetsLoader.once("complete",function(b,a){_this.stage.game_2_container=new PIXI.Container();_this.stage.game_2.part_container=new PIXI.Container();_this.stage.game_2.light_container=new PIXI.Container();_this.stage.game_2.oil_container=new PIXI.Container();_this.stage.game_2.failure_container=new PIXI.Container();_this.stage.game_2.success_container=new PIXI.Container();_this.stage.game_2.success.star_container=new PIXI.Container();_this.stage.game_1_container=new PIXI.Container();_this.stage.game_1.spot_container=new PIXI.Container();_this.stage.game_1.lotion_container=new PIXI.Container();_this.stage.game_1.failure_container=new PIXI.Container();_this.stage.game_1.success_container=new PIXI.Container();_this.stage.game_1.success.star_container=new PIXI.Container();_this.stage.countdown_container=new PIXI.Container();_this.stage.curtain_container=new PIXI.Container();_this.stage.opening_container=new PIXI.Container();_this.stage.opening.star_container=new PIXI.Container();_this.stage.end_container=new PIXI.Container();_this.stage.end.finalcut_container=new PIXI.Container();_this.stage.help_container=new PIXI.Container();_this.hideContainer(["loading_container"]);_this.initOpening();_this.initCurtain();_this.initHelp();_this.initCountdown();_this.initEnd();_this.initGame_1();_this.initGame_2();_this.stage_container.addChild(_this.stage.game_2_container).name="game_2_container";_this.stage.game_2_container.addChild(_this.stage.game_2.part_container).name="game_2.part_container";_this.stage.game_2_container.addChild(_this.stage.game_2.light_container).name="game_2.light_container";_this.stage.game_2_container.addChild(_this.stage.game_2.oil_container).name="game_2.oil_container";_this.stage.game_2_container.addChild(_this.stage.game_2.failure_container).name="game_2.failure_container";_this.stage.game_2_container.addChild(_this.stage.game_2.success_container).name="game_2.success_container";_this.stage.game_2.success_container.addChild(_this.stage.game_2.success.star_container).name="game_2.success.star_container";_this.stage_container.addChild(_this.stage.game_1_container).name="game_1_container";_this.stage.game_1_container.addChild(_this.stage.game_1.spot_container).name="game_1.spot_container";_this.stage.game_1_container.addChild(_this.stage.game_1.lotion_container).name="game_1.lotion_container";_this.stage.game_1_container.addChild(_this.stage.game_1.failure_container).name="game_1.failure_container";_this.stage.game_1_container.addChild(_this.stage.game_1.success_container).name="game_1.success_container";_this.stage.game_1.success_container.addChild(_this.stage.game_1.success.star_container).name="game_1.success.star_container";_this.stage_container.addChild(_this.stage.countdown_container).name="countdown_container";_this.stage_container.addChild(_this.stage.curtain_container).name="curtain_container";_this.stage_container.addChild(_this.stage.opening_container).name="opening_container";_this.stage.opening_container.addChild(_this.stage.opening.star_container).name="opening.star_container";_this.stage_container.addChild(_this.stage.end_container).name="end_container";_this.stage.end_container.addChild(_this.stage.end.finalcut_container).name="end.finalcut_container";_this.stage_container.addChild(_this.stage.help_container).name="help_container";_this.playOpening();_this.gameLoop()});assetsLoader.load()},loadBarProgress:function(b){var a=this.stage.loading_container.getChildIndex(this.stage.loading.percent_t);this.stage.loading_container.removeChildAt(a);this.stage.loading.percent_t=this.placeRect(this.stage.loading_container,{w:b*8,h:80},{x:145,y:1000},16776960);_this.renderer.render(_this.stage_container)},gameLoop:function(){requestAnimationFrame(this.gameLoop.bind(this));var g=[];for(var f=0;f<this.arrContainer.length;f++){if(this.stage[this.arrContainer[f]].visible===true){var b=this.stage[this.arrContainer[f]];var e=null;for(var d=0;d<b.children.length;d++){if(typeof b.children[d].name!=="undefined"&&b.children[d].name!=null){if(b.children[d].name.indexOf("container")!==-1){for(var c=0;c<b.children[d].children.length;c++){if(b.children[d].children[c].name.indexOf("container")!=-1){for(var a=0;a<b.children[d].children[c].children.length;a++){g.push(b.children[d].children[c].children[a])}}else{g.push(b.children[d].children[c])}}}else{g.push(b.children[d])}}}}}for(f=0;f<g.length;f++){if(g[f].visible===true){if(typeof g[f].isMove!=="undefined"&&g[f].isMove!=null&&g[f].isMove===1){this.effMove(g[f])}if(typeof g[f].isScale!=="undefined"&&g[f].isScale!=null&&g[f].isScale===1){this.effScale(g[f])}if(typeof g[f].isAlpha!=="undefined"&&g[f].isAlpha!=null&&g[f].isAlpha===1){this.effAlpha(g[f])}}}this.renderer.render(this.stage_container)},initLoading:function(){this.stage.loading.title=this.placeAsset(this.stage.loading_container,"title",{w:1058,h:330},{x:15,y:594});this.stage.loading.percent_b=this.placeRect(this.stage.loading_container,{w:800,h:80},{x:145,y:1000},0);this.stage.loading.percent_t=this.placeRect(this.stage.loading_container,{w:0,h:80},{x:145,y:1000},16776960)},initOpening:function(){this.stage.opening.title=this.placeAsset(this.stage.opening_container,"title",{w:1058,h:330},{x:15,y:594});this.stage.opening.star.star_1=this.placeAsset(this.stage.opening.star_container,"star",{w:59,h:59},{x:46,y:874},{},{isScale:1,scale:1,vScale:0.04,minScale:0.2,maxScale:1,pivot:"cc"});this.stage.opening.star.star_2=this.placeAsset(this.stage.opening.star_container,"star",{w:59,h:59},{x:96,y:917},{},{isScale:1,scale:0.5,vScale:0.05,minScale:0.2,maxScale:1,pivot:"cc"});this.stage.opening.star.star_3=this.placeAsset(this.stage.opening.star_container,"star",{w:59,h:59},{x:1010,y:710},{},{isScale:1,scale:1,vScale:0.04,minScale:0.2,maxScale:1,pivot:"cc"});this.stage.opening.star.star_4=this.placeAsset(this.stage.opening.star_container,"star",{w:59,h:59},{x:1057,y:760},{},{isScale:1,scale:0.5,vScale:0.05,minScale:0.2,maxScale:1,pivot:"cc"});this.stage.opening.cloud=this.placeAsset(this.stage.opening_container,"opening.cloud",{w:794,h:483},{x:165,y:1300},{isMove:0,vX:-2,vY:-2,limitVW:1000,limitVH:100},{},{isAlpha:0,alpha:0,vAlpha:0.025});this.stage.opening.haku=this.placeAsset(this.stage.opening_container,"haku",{w:529,h:787},{x:629,y:1100},{isMove:1,vX:0,vY:2,limitVW:0,limitVH:60});this.stage.opening.bu_start=this.placeButton(this.stage.opening_container,"opening.bu_start",{imgX:0,imgY:0},{imgOverX:0,imgOverY:0},{w:745,h:204},{x:184,y:968})},initCurtain:function(){this.stage.curtain.mask=this.placeRect(this.stage.curtain_container,{w:1090,h:1800},{x:0,y:0},0,0.5);this.stage.curtain.curtain_r=this.placeAsset(this.stage.curtain_container,"curtain.curtain_r",{w:706,h:1800},{x:384,y:0},{isMove:0,vX:10,vY:0,limitVW:1500,limitVH:0});this.stage.curtain.curtain_l=this.placeAsset(this.stage.curtain_container,"curtain.curtain_l",{w:679,h:1800},{x:0,y:0},{isMove:0,vX:-10,vY:0,limitVW:1500,limitVH:0})},initHelp:function(){this.stage.help.mask=this.placeRect(this.stage.help_container,{w:1090,h:1800},{x:0,y:0},0,0.5);this.stage.help.haku=this.placeAsset(this.stage.help_container,"haku",{w:529,h:787},{x:629,y:1100},{isMove:1,vX:0,vY:2,limitVW:0,limitVH:60});this.stage.help.cloud=this.placeAsset(this.stage.help_container,"help.cloud",{w:1046,h:629},{x:40,y:650},{isMove:0,vX:0,vY:-2,limitVW:0,limitVH:100},{},{isAlpha:0,alpha:0,vAlpha:0.025},{frameW:1046,frameH:629,frameX:0,frameY:0});this.stage.help.bu_know=this.placeButton(this.stage.help_container,"help.bu_know",{imgX:0,imgY:0},{imgOverX:0,imgOverY:0},{w:308,h:92},{x:-200,y:-200})},initCountdown:function(){this.stage.countdown.mask=this.placeRect(this.stage.countdown_container,{w:1090,h:1800},{x:0,y:0},0,0.5);this.stage.countdown.count_num=this.placeAsset(this.stage.countdown_container,"countdown.count_num",{w:1090,h:1800},{x:0,y:0},{},{},{},{frameW:1090,frameH:1800,frameX:0,frameY:0})},initEnd:function(){this.stage.end.finalcut.promo=this.placeAsset(this.stage.end.finalcut_container,"end.finalcut.promo",{w:832,h:243},{x:180,y:815});this.stage.end.finalcut.haku=this.placeAsset(this.stage.end.finalcut_container,"end.finalcut.haku",{w:534,h:746},{x:635,y:1158},{isMove:1,vX:0,vY:0.5,limitVW:0,limitVH:50});this.stage.end.finalcut.cloud=this.placeAsset(this.stage.end.finalcut_container,"end.finalcut.cloud",{w:1046,h:629},{x:177,y:421},{isMove:0,vX:-3,vY:-2,limitVW:1000,limitVH:100},{},{isAlpha:0,alpha:0,vAlpha:0.025},{frameW:1046,frameH:629,frameX:0,frameY:0});this.stage.end.finalcut.bu_restart=this.placeButton(this.stage.end.finalcut_container,"end.finalcut.bu_restart",{imgX:0,imgY:0},{imgOverX:0,imgOverY:0},{w:378,h:81},{x:357,y:1255});this.stage.end.finalcut.bu_try=this.placeButton(this.stage.end.finalcut_container,"end.finalcut.bu_try",{imgX:0,imgY:0},{imgOverX:0,imgOverY:0},{w:727,h:198},{x:182,y:1039});this.stage.end.finalcut_container.visible=false},initGame_1:function(){this.stage.game_1.face=this.placeAsset(this.stage.game_1_container,"face",{w:1090,h:1800},{x:0,y:0});this.stage.game_1.title=this.placeAsset(this.stage.game_1_container,"g1.title",{w:1090,h:1800},{x:0,y:0});this.stage.game_1.count_num_1=this.placeAsset(this.stage.game_1_container,"g1.count_num_1",{w:270,h:272},{x:13,y:9},{},{},{},{frameW:270,frameH:272,frameX:0,frameY:0});this.stage.game_1.count_num_2=this.placeAsset(this.stage.game_1_container,"g1.count_num_2",{w:270,h:272},{x:13,y:9},{},{},{},{frameW:270,frameH:272,frameX:0,frameY:0});this.stage.game_1.count_num_2.visible=false;this.stage.game_1.spot.spot_1=this.placeButton(this.stage.game_1.spot_container,"spot",{imgX:0,imgY:0},{imgOverX:0,imgOverY:0},{w:90,h:90},{x:185,y:833},false,1);this.stage.game_1.spot.spot_2=this.placeButton(this.stage.game_1.spot_container,"spot",{imgX:0,imgY:0},{imgOverX:0,imgOverY:0},{w:90,h:90},{x:272,y:868},false,2);this.stage.game_1.spot.spot_3=this.placeButton(this.stage.game_1.spot_container,"spot",{imgX:0,imgY:0},{imgOverX:0,imgOverY:0},{w:90,h:90},{x:368,y:880},false,3);this.stage.game_1.spot.spot_4=this.placeButton(this.stage.game_1.spot_container,"spot",{imgX:0,imgY:0},{imgOverX:0,imgOverY:0},{w:90,h:90},{x:190,y:928},false,4);this.stage.game_1.spot.spot_5=this.placeButton(this.stage.game_1.spot_container,"spot",{imgX:0,imgY:0},{imgOverX:0,imgOverY:0},{w:90,h:90},{x:294,y:936},false,5);this.stage.game_1.spot.spot_6=this.placeButton(this.stage.game_1.spot_container,"spot",{imgX:0,imgY:0},{imgOverX:0,imgOverY:0},{w:90,h:90},{x:400,y:936},false,6);this.stage.game_1.spot.spot_7=this.placeButton(this.stage.game_1.spot_container,"spot",{imgX:0,imgY:0},{imgOverX:0,imgOverY:0},{w:90,h:90},{x:205,y:998},false,7);this.stage.game_1.spot.spot_8=this.placeButton(this.stage.game_1.spot_container,"spot",{imgX:0,imgY:0},{imgOverX:0,imgOverY:0},{w:90,h:90},{x:273,y:1003},false,8);this.stage.game_1.spot.spot_9=this.placeButton(this.stage.game_1.spot_container,"spot",{imgX:0,imgY:0},{imgOverX:0,imgOverY:0},{w:90,h:90},{x:363,y:1020},false,9);this.stage.game_1.spot.spot_10=this.placeButton(this.stage.game_1.spot_container,"spot",{imgX:0,imgY:0},{imgOverX:0,imgOverY:0},{w:90,h:90},{x:255,y:1080},false,10);this.stage.game_1.spot.spot_11=this.placeButton(this.stage.game_1.spot_container,"spot",{imgX:0,imgY:0},{imgOverX:0,imgOverY:0},{w:90,h:90},{x:651,y:880},false,11);this.stage.game_1.spot.spot_12=this.placeButton(this.stage.game_1.spot_container,"spot",{imgX:0,imgY:0},{imgOverX:0,imgOverY:0},{w:90,h:90},{x:745,y:870},false,12);this.stage.game_1.spot.spot_13=this.placeButton(this.stage.game_1.spot_container,"spot",{imgX:0,imgY:0},{imgOverX:0,imgOverY:0},{w:90,h:90},{x:838,y:836},false,13);this.stage.game_1.spot.spot_14=this.placeButton(this.stage.game_1.spot_container,"spot",{imgX:0,imgY:0},{imgOverX:0,imgOverY:0},{w:90,h:90},{x:619,y:938},false,14);this.stage.game_1.spot.spot_15=this.placeButton(this.stage.game_1.spot_container,"spot",{imgX:0,imgY:0},{imgOverX:0,imgOverY:0},{w:90,h:90},{x:720,y:938},false,15);this.stage.game_1.spot.spot_16=this.placeButton(this.stage.game_1.spot_container,"spot",{imgX:0,imgY:0},{imgOverX:0,imgOverY:0},{w:90,h:90},{x:828,y:930},false,16);this.stage.game_1.spot.spot_17=this.placeButton(this.stage.game_1.spot_container,"spot",{imgX:0,imgY:0},{imgOverX:0,imgOverY:0},{w:90,h:90},{x:651,y:1024},false,17);this.stage.game_1.spot.spot_18=this.placeButton(this.stage.game_1.spot_container,"spot",{imgX:0,imgY:0},{imgOverX:0,imgOverY:0},{w:90,h:90},{x:747,y:1002},false,18);this.stage.game_1.spot.spot_19=this.placeButton(this.stage.game_1.spot_container,"spot",{imgX:0,imgY:0},{imgOverX:0,imgOverY:0},{w:90,h:90},{x:812,y:997},false,19);this.stage.game_1.spot.spot_20=this.placeButton(this.stage.game_1.spot_container,"spot",{imgX:0,imgY:0},{imgOverX:0,imgOverY:0},{w:90,h:90},{x:759,y:1080},false,20);this.stage.game_1.spot_container.visible=false;this.stage.game_1.lotion.lotion_1=this.placeAsset(this.stage.game_1.lotion_container,"lotion",{w:54,h:71},{x:195,y:794},{isMove:0,vX:-1,vY:1,limitVW:10,limitVH:10},{},{isAlpha:0,alpha:0,vAlpha:0.02},{},false,1);this.stage.game_1.lotion.lotion_2=this.placeAsset(this.stage.game_1.lotion_container,"lotion",{w:54,h:71},{x:282,y:829},{isMove:0,vX:-1,vY:1,limitVW:10,limitVH:10},{},{isAlpha:0,alpha:0,vAlpha:0.02},{},false,2);this.stage.game_1.lotion.lotion_3=this.placeAsset(this.stage.game_1.lotion_container,"lotion",{w:54,h:71},{x:378,y:840},{isMove:0,vX:-1,vY:1,limitVW:10,limitVH:10},{},{isAlpha:0,alpha:0,vAlpha:0.02},{},false,3);this.stage.game_1.lotion.lotion_4=this.placeAsset(this.stage.game_1.lotion_container,"lotion",{w:54,h:71},{x:200,y:889},{isMove:0,vX:-1,vY:1,limitVW:10,limitVH:10},{},{isAlpha:0,alpha:0,vAlpha:0.02},{},false,4);this.stage.game_1.lotion.lotion_5=this.placeAsset(this.stage.game_1.lotion_container,"lotion",{w:54,h:71},{x:304,y:897},{isMove:0,vX:-1,vY:1,limitVW:10,limitVH:10},{},{isAlpha:0,alpha:0,vAlpha:0.02},{},false,5);this.stage.game_1.lotion.lotion_6=this.placeAsset(this.stage.game_1.lotion_container,"lotion",{w:54,h:71},{x:410,y:897},{isMove:0,vX:-1,vY:1,limitVW:10,limitVH:10},{},{isAlpha:0,alpha:0,vAlpha:0.02},{},false,6);this.stage.game_1.lotion.lotion_7=this.placeAsset(this.stage.game_1.lotion_container,"lotion",{w:54,h:71},{x:215,y:959},{isMove:0,vX:-1,vY:1,limitVW:10,limitVH:10},{},{isAlpha:0,alpha:0,vAlpha:0.02},{},false,7);this.stage.game_1.lotion.lotion_8=this.placeAsset(this.stage.game_1.lotion_container,"lotion",{w:54,h:71},{x:283,y:964},{isMove:0,vX:-1,vY:1,limitVW:10,limitVH:10},{},{isAlpha:0,alpha:0,vAlpha:0.02},{},false,8);this.stage.game_1.lotion.lotion_9=this.placeAsset(this.stage.game_1.lotion_container,"lotion",{w:54,h:71},{x:373,y:980},{isMove:0,vX:-1,vY:1,limitVW:10,limitVH:10},{},{isAlpha:0,alpha:0,vAlpha:0.02},{},false,9);this.stage.game_1.lotion.lotion_10=this.placeAsset(this.stage.game_1.lotion_container,"lotion",{w:54,h:71},{x:265,y:1040},{isMove:0,vX:-1,vY:1,limitVW:10,limitVH:10},{},{isAlpha:0,alpha:0,vAlpha:0.02},{},false,10);this.stage.game_1.lotion.lotion_11=this.placeAsset(this.stage.game_1.lotion_container,"lotion",{w:54,h:71},{x:661,y:841},{isMove:0,vX:-1,vY:1,limitVW:10,limitVH:10},{},{isAlpha:0,alpha:0,vAlpha:0.02},{},false,11);this.stage.game_1.lotion.lotion_12=this.placeAsset(this.stage.game_1.lotion_container,"lotion",{w:54,h:71},{x:755,y:831},{isMove:0,vX:-1,vY:1,limitVW:10,limitVH:10},{},{isAlpha:0,alpha:0,vAlpha:0.02},{},false,12);this.stage.game_1.lotion.lotion_13=this.placeAsset(this.stage.game_1.lotion_container,"lotion",{w:54,h:71},{x:848,y:797},{isMove:0,vX:-1,vY:1,limitVW:10,limitVH:10},{},{isAlpha:0,alpha:0,vAlpha:0.02},{},false,13);this.stage.game_1.lotion.lotion_14=this.placeAsset(this.stage.game_1.lotion_container,"lotion",{w:54,h:71},{x:629,y:899},{isMove:0,vX:-1,vY:1,limitVW:10,limitVH:10},{},{isAlpha:0,alpha:0,vAlpha:0.02},{},false,14);this.stage.game_1.lotion.lotion_15=this.placeAsset(this.stage.game_1.lotion_container,"lotion",{w:54,h:71},{x:730,y:899},{isMove:0,vX:-1,vY:1,limitVW:10,limitVH:10},{},{isAlpha:0,alpha:0,vAlpha:0.02},{},false,15);this.stage.game_1.lotion.lotion_16=this.placeAsset(this.stage.game_1.lotion_container,"lotion",{w:54,h:71},{x:838,y:890},{isMove:0,vX:-1,vY:1,limitVW:10,limitVH:10},{},{isAlpha:0,alpha:0,vAlpha:0.02},{},false,16);this.stage.game_1.lotion.lotion_17=this.placeAsset(this.stage.game_1.lotion_container,"lotion",{w:54,h:71},{x:661,y:985},{isMove:0,vX:-1,vY:1,limitVW:10,limitVH:10},{},{isAlpha:0,alpha:0,vAlpha:0.02},{},false,17);this.stage.game_1.lotion.lotion_18=this.placeAsset(this.stage.game_1.lotion_container,"lotion",{w:54,h:71},{x:757,y:963},{isMove:0,vX:-1,vY:1,limitVW:10,limitVH:10},{},{isAlpha:0,alpha:0,vAlpha:0.02},{},false,18);this.stage.game_1.lotion.lotion_19=this.placeAsset(this.stage.game_1.lotion_container,"lotion",{w:54,h:71},{x:822,y:958},{isMove:0,vX:-1,vY:1,limitVW:10,limitVH:10},{},{isAlpha:0,alpha:0,vAlpha:0.02},{},false,19);this.stage.game_1.lotion.lotion_20=this.placeAsset(this.stage.game_1.lotion_container,"lotion",{w:54,h:71},{x:769,y:1040},{isMove:0,vX:-1,vY:1,limitVW:10,limitVH:10},{},{isAlpha:0,alpha:0,vAlpha:0.02},{},false,20);this.stage.game_1.failure.face_bad=this.placeAsset(this.stage.game_1.failure_container,"g1.failure.face_bad",{w:1090,h:1800},{x:0,y:0});this.stage.game_1.failure.bu_again=this.placeButton(this.stage.game_1.failure_container,"bu_again",{imgX:0,imgY:0},{imgOverX:0,imgOverY:0},{w:393,h:127},{x:638,y:1433});this.stage.game_1.failure_container.visible=false;this.stage.game_1.success.face_good=this.placeAsset(this.stage.game_1.success_container,"g1.success.face_good",{w:1090,h:1800},{x:0,y:0});this.stage.game_1.success.star.star_1=this.placeAsset(this.stage.game_1.success.star_container,"star",{w:59,h:59},{x:95,y:1100},{},{isScale:1,scale:1,vScale:0.04,minScale:0.2,maxScale:1,pivot:"cc"});this.stage.game_1.success.star.star_2=this.placeAsset(this.stage.game_1.success.star_container,"star",{w:59,h:59},{x:152,y:1157},{},{isScale:1,scale:0.5,vScale:0.05,minScale:0.2,maxScale:1,pivot:"cc"});this.stage.game_1.success.star.star_3=this.placeAsset(this.stage.game_1.success.star_container,"star",{w:59,h:59},{x:960,y:578},{},{isScale:1,scale:1,vScale:0.04,minScale:0.2,maxScale:1,pivot:"cc"});this.stage.game_1.success.star.star_4=this.placeAsset(this.stage.game_1.success.star_container,"star",{w:59,h:59},{x:1010,y:640},{},{isScale:1,scale:0.5,vScale:0.05,minScale:0.2,maxScale:1,pivot:"cc"});this.stage.game_1.success.bu_next=this.placeButton(this.stage.game_1.success_container,"g1.success.bu_next",{imgX:0,imgY:0},{imgOverX:0,imgOverY:0},{w:399,h:500},{x:669,y:1431});this.stage.game_1.success_container.visible=false;this.stage.game_1.cursor=this.placeAsset(this.stage.game_1_container,"g1.cursor",{w:356,h:462},{x:712,y:1319});this.stage.game_1.cursor.visible=false;this.stage.game_1_container.status="stop"},initGame_2:function(){this.stage.game_2.face=this.placeAsset(this.stage.game_2_container,"face",{w:1090,h:1800},{x:0,y:0});this.stage.game_2.title=this.placeAsset(this.stage.game_2_container,"g2.title",{w:1090,h:1800},{x:0,y:0});this.stage.game_2.count_num=this.placeAsset(this.stage.game_2_container,"g2.count_num",{w:270,h:272},{x:13,y:9},{},{},{},{frameW:270,frameH:272,frameX:0,frameY:0});this.stage.game_2.part.head=this.placeButton(this.stage.game_2.part_container,"g2.part.head",{imgX:0,imgY:0},{imgOverX:0,imgOverY:0},{w:595,h:291},{x:253,y:409},false);this.stage.game_2.part.nose=this.placeButton(this.stage.game_2.part_container,"g2.part.nose",{imgX:0,imgY:0},{imgOverX:0,imgOverY:0},{w:80,h:371},{x:516,y:696},false);this.stage.game_2.part.chin=this.placeButton(this.stage.game_2.part_container,"g2.part.chin",{imgX:0,imgY:0},{imgOverX:0,imgOverY:0},{w:234,h:125},{x:444,y:1256},false);this.stage.game_2.part.cheek_l=this.placeButton(this.stage.game_2.part_container,"g2.part.cheek_l",{imgX:0,imgY:0},{imgOverX:0,imgOverY:0},{w:230,h:340},{x:210,y:885},false);this.stage.game_2.part.cheek_r=this.placeButton(this.stage.game_2.part_container,"g2.part.cheek_r",{imgX:0,imgY:0},{imgOverX:0,imgOverY:0},{w:230,h:340},{x:662,y:885},false);this.stage.game_2.part_container.visible=false;this.stage.game_2.light.head=this.placeAsset(this.stage.game_2.light_container,"g2.light.head",{w:922,h:864},{x:82,y:124},{},{},{isAlpha:0,alpha:0,vAlpha:0.02},{},false);this.stage.game_2.light.nose=this.placeAsset(this.stage.game_2.light_container,"g2.light.nose",{w:815,h:536},{x:151,y:620},{},{},{isAlpha:0,alpha:0,vAlpha:0.02},{},false);this.stage.game_2.light.chin=this.placeAsset(this.stage.game_2.light_container,"g2.light.chin",{w:1090,h:765},{x:0,y:1034},{},{},{isAlpha:0,alpha:0,vAlpha:0.02},{},false);this.stage.game_2.light.cheek_l=this.placeAsset(this.stage.game_2.light_container,"g2.light.cheek_l",{w:468,h:741},{x:85,y:606},{},{},{isAlpha:0,alpha:0,vAlpha:0.02},{},false);this.stage.game_2.light.cheek_r=this.placeAsset(this.stage.game_2.light_container,"g2.light.cheek_r",{w:440,h:696},{x:567,y:641},{},{},{isAlpha:0,alpha:0,vAlpha:0.02},{},false);this.stage.game_2.oil.head=this.placeAsset(this.stage.game_2.oil_container,"oil",{w:92,h:127},{x:0,y:0},{},{isScale:0,scale:0,vScale:0.05,minScale:1,maxScale:1,pivot:"cc"},{isAlpha:0,alpha:1,vAlpha:-0.1},{},false);this.stage.game_2.oil.nose=this.placeAsset(this.stage.game_2.oil_container,"oil",{w:92,h:127},{x:0,y:0},{},{isScale:0,scale:0,vScale:0.05,minScale:1,maxScale:1,pivot:"cc"},{isAlpha:0,alpha:1,vAlpha:-0.1},{},false);this.stage.game_2.oil.chin=this.placeAsset(this.stage.game_2.oil_container,"oil",{w:92,h:127},{x:0,y:0},{},{isScale:0,scale:0,vScale:0.05,minScale:1,maxScale:1,pivot:"cc"},{isAlpha:0,alpha:1,vAlpha:-0.1},{},false);this.stage.game_2.oil.cheek_l=this.placeAsset(this.stage.game_2.oil_container,"oil",{w:92,h:127},{x:0,y:0},{},{isScale:0,scale:0,vScale:0.05,minScale:1,maxScale:1,pivot:"cc"},{isAlpha:0,alpha:1,vAlpha:-0.1},{},false);this.stage.game_2.oil.cheek_r=this.placeAsset(this.stage.game_2.oil_container,"oil",{w:92,h:127},{x:0,y:0},{},{isScale:0,scale:0,vScale:0.05,minScale:1,maxScale:1,pivot:"cc"},{isAlpha:0,alpha:1,vAlpha:-0.1},{},false);this.stage.game_2.failure.face_bad=this.placeAsset(this.stage.game_2.failure_container,"g2.failure.face_bad",{w:1090,h:1800},{x:0,y:0});this.stage.game_2.failure.bu_again=this.placeButton(this.stage.game_2.failure_container,"bu_again",{imgX:0,imgY:0},{imgOverX:0,imgOverY:0},{w:393,h:127},{x:638,y:1433});this.stage.game_2.failure_container.visible=false;this.stage.game_2.success.face_good=this.placeAsset(this.stage.game_2.success_container,"g2.success.face_good",{w:1090,h:1800},{x:0,y:0});this.stage.game_2.success.star.star_1=this.placeAsset(this.stage.game_2.success.star_container,"star",{w:59,h:59},{x:95,y:1100},{},{isScale:1,scale:1,vScale:0.04,minScale:0.2,maxScale:1,pivot:"cc"});this.stage.game_2.success.star.star_2=this.placeAsset(this.stage.game_2.success.star_container,"star",{w:59,h:59},{x:152,y:1157},{},{isScale:1,scale:0.5,vScale:0.05,minScale:0.2,maxScale:1,pivot:"cc"});this.stage.game_2.success.star.star_3=this.placeAsset(this.stage.game_2.success.star_container,"star",{w:59,h:59},{x:960,y:578},{},{isScale:1,scale:1,vScale:0.04,minScale:0.2,maxScale:1,pivot:"cc"});this.stage.game_2.success.star.star_4=this.placeAsset(this.stage.game_2.success.star_container,"star",{w:59,h:59},{x:1010,y:640},{},{isScale:1,scale:0.5,vScale:0.05,minScale:0.2,maxScale:1,pivot:"cc"});this.stage.game_2.success.bu_finish=this.placeButton(this.stage.game_2.success_container,"g2.success.bu_finish",{imgX:0,imgY:0},{imgOverX:0,imgOverY:0},{w:399,h:500},{x:669,y:1431});this.stage.game_2.success_container.visible=false;this.stage.game_2.cursor=this.placeAsset(this.stage.game_2_container,"g2.cursor",{w:349,h:474},{x:712,y:1313});this.stage.game_2.cursor.visible=false;this.stage.game_2_container.status="stop"},placeRect:function(b,e,a,d,f){f=(typeof f!=="undefined")?f:1;var c=new PIXI.Graphics();c.beginFill(d);c.drawRect(a.x,a.y,e.w,e.h);c.endFill();c.alpha=f;b.addChild(c);return c},placeAsset:function(a,g,m,h,d,e,f,b,c,i){if(typeof d==="undefined"||d===null||Object.keys(d).length===0){d={isMove:0,vX:0,vY:0,limitVW:0,limitVH:0}}if(typeof e==="undefined"||e===null||Object.keys(e).length===0){e={isScale:0,scale:1,vScale:0,minScale:0,maxScale:0,pivot:"lt"}}if(typeof f==="undefined"||f===null||Object.keys(f).length===0){f={isAlpha:0,alpha:1,vAlpha:0}}i=(typeof i!=="undefined")?i:0;var j=PIXI.Texture.fromImage(g);if(typeof b!=="undefined"&&b!==null&&Object.keys(b).length>0){var k=new PIXI.Rectangle(b.frameX,b.frameY,b.frameW,b.frameH);j.setFrame(k)}c=(typeof c!=="undefined")?c:true;var l=new PIXI.Sprite(j);l.position.set(h.x,h.y);l.oX=h.x;l.oY=h.y;l.width=m.w;l.height=m.h;l.isMove=d.isMove;l.vX=d.vX;l.vY=d.vY;l.limitLeft=h.x-d.limitVW;l.limitRight=h.x+d.limitVW;l.limitTop=h.y-d.limitVH;l.limitBottom=h.y+d.limitVH;l.isScale=e.isScale;l.scale.set(e.scale,e.scale);l.vScale=e.vScale;l.minScale=e.minScale;l.maxScale=e.maxScale;switch(e.pivot){case"lt":l.pivot.set(0,0);break;case"ct":l.pivot.set(m.w/2,0);break;case"rt":l.pivot.set(m.w,0);break;case"lc":l.pivot.set(0,m.h/2);break;case"cc":l.pivot.set(m.w/2,m.h/2);break;case"rc":l.pivot.set(m.w,m.h/2);break;case"lb":l.pivot.set(0,m.h);break;case"cb":l.pivot.set(m.w/2,m.h);break;case"rb":l.pivot.set(m.w,m.h);break}l.isAlpha=f.isAlpha;l.alpha=f.alpha;l.vAlpha=f.vAlpha;l.visible=c;l.index=i;l.name=g;a.addChild(l);return l},placeAsset_setFrame:function(a,c){var b=new PIXI.Rectangle(c.frameX,c.frameY,c.frameW,c.frameH);a.texture.setFrame(b)},placeButton:function(b,e,f,d,l,h,g,j){g=(typeof g!=="undefined")?g:true;j=(typeof j!=="undefined")?j:0;var c=new PIXI.Rectangle(f.imgX,f.imgY,l.w,l.h);var i=new PIXI.Rectangle(d.imgOverX,d.imgOverY,l.w,l.h);var k=PIXI.Texture.fromImage(e);k.setFrame(c);var a=new PIXI.Sprite(k);a.position.x=h.x;a.position.y=h.y;a.interactive=true;a.buttonMode=g;a.index=j;a.name=e;b.addChild(a);_this=this;a.on("pointerover",function(m){k.setFrame(i)}).on("pointerout",function(m){k.setFrame(c)}).on("pointertap",function(n){if(this.status===1){this.status=0;switch(this.name){case"opening.bu_start":_this.stage.curtain.curtain_l.isMove=1;_this.stage.curtain.curtain_r.isMove=1;_this.nowGame=1;setTimeout(function(){_this.stage.opening.title.visible=false;_this.stage.opening.bu_start.visible=false;_this.stage.opening.star_container.visible=false},500);break;case"help.bu_know":_this.playCountdown();break;case"spot":_this.stage.game_1.lotion["lotion_"+this.index].visible=true;_this.stage.game_1.lotion["lotion_"+this.index].isAlpha=1;_this.stage.game_1.lotion["lotion_"+this.index].isMove=1;break;case"bu_again":if(_this.nowGame==1){_this.resetGame_1_container();_this.playHelp()}if(_this.nowGame==2){_this.resetGame_2_container();_this.playHelp()}break;case"g1.success.bu_next":_this.stage.game_1.success_container.visible=false;_this.nowGame=2;_this.playHelp();break;case"g2.part.head":case"g2.part.nose":case"g2.part.chin":case"g2.part.cheek_l":case"g2.part.cheek_r":var o=this.name.split(".");_this.stage.game_2.part[o[2]].visible=false;_this.stage.game_2.light[o[2]].visible=true;_this.stage.game_2.light[o[2]].isAlpha=1;_this.stage.game_2.oil[o[2]].position.set(n.data.global.x,n.data.global.y);_this.stage.game_2.oil[o[2]].visible=true;_this.stage.game_2.oil[o[2]].isScale=1;break;case"g2.success.bu_finish":var m=$("div.canvasContainer video");m.off().on("ended timeupdate",function(p){if(p.type==="ended"||(p.target.currentTime>=2.96)){m.off();_this.playEnd();setTimeout(function(){m.hide();m.get(0).currentTime=0},50)}});m.show();m.get(0).play();break;case"end.finalcut.bu_restart":_this.resetGame_1_container();_this.resetGame_2_container();_this.playOpening();break;case"end.finalcut.bu_try":$(".canvasContainer").css("display","none");$(".canvasContainer").empty();$(".bg").fadeIn(300);break}}});return a},effMove:function(a){if(a.x<=a.limitLeft){a.vX=Math.abs(a.vX)}if(a.x>=a.limitRight){a.vX=0-Math.abs(a.vX)}if(a.y<=a.limitTop){a.vY=Math.abs(a.vY)}if(a.y>=a.limitBottom){a.vY=0-Math.abs(a.vY)}a.x+=a.vX;a.y+=a.vY;if(a.name==="opening.cloud"){if(a.y<=a.limitTop){a.isMove=0}}if(a.name==="curtain.curtain_r"){if(a.x>=this.canvasWidth){this.isMove=0;this.stage.help.haku.y=this.stage.opening.haku.y;this.playHelp()}}if(a.name==="help.cloud"){this.stage.help.bu_know.position.set(a.x+535,a.y+390);if(a.y<=a.limitTop){a.isMove=0}}if(a.name==="end.finalcut.cloud"){if(a.y<=a.limitTop){a.isMove=0}}},effScale:function(a){if(a.minScale===a.maxScale){if(a.scale.x>=a.minScale){a.vScale=0}}else{if(a.scale.x<=a.minScale||a.scale.x>=a.maxScale){a.vScale=0-a.vScale}}a.scale.set(a.scale.x+a.vScale,a.scale.x+a.vScale);if(a.name==="oil"){if(a.scale.x>=a.minScale){a.isAlpha=1}}},effAlpha:function(b){b.alpha=(typeof b.alpha!=="undefined")?b.alpha:1;b.vAlpha=(typeof b.vAlpha!=="undefined")?b.vAlpha:0;b.alpha+=b.vAlpha;if(b.alpha>=1.5&&b.name==="lotion"){b.isAlpha=0;b.isMove=0;b.alpha=0;b.visible=false;for(var a=1;a<=20;a++){if(this.stage.game_1.spot["spot_"+a].index===b.index){this.stage.game_1.spot["spot_"+a].visible=false}}this.game_1_deleteSpot++;if(this.game_1_deleteSpot===20&&this.stage.game_1.failure_container.visible===false){window.clearInterval(this.timer);this.stage.game_1.cursor.visible=false;this.stage.game_1_container.status="stop";this.stage.game_1.success_container.visible=true}}if(b.alpha<=0&&b.name==="oil"){b.isAlpha=0;b.isScale=0;b.visible=false;this.game_2_deletePart++;if(this.game_2_deletePart===5&&this.stage.game_2.failure_container.visible===false){window.clearInterval(this.timer);this.stage.game_2.cursor.visible=false;this.stage.game_2_container.status="stop";this.stage.game_2.success_container.visible=true}}},hideContainer:function(b){for(var a=0;a<this.arrContainer.length;a++){if(b.indexOf(this.arrContainer[a])!==-1){this.stage[this.arrContainer[a]].visible=true}else{this.stage[this.arrContainer[a]].visible=false}}},playOpening:function(){this.stage.opening.title.visible=true;this.stage.opening.bu_start.visible=true;this.stage.opening.star_container.visible=true;this.stage.opening.bu_start.status=1;this.hideContainer(["opening_container","curtain_container","game_1_container"]);this.stage.opening.cloud.isAlpha=1;this.stage.opening.cloud.isMove=1},playHelp:function(){this.stage.help.bu_know.status=1;this.stage.help.cloud.isMove=1;this.stage.help.cloud.position.set(40,650);this.stage.help.cloud.alpha=0;this.stage.help.cloud.isAlpha=1;if(this.nowGame===1){this.stage.game_1.count_num_1.visible=true;this.stage.game_1.count_num_2.visible=false;this.placeAsset_setFrame(this.stage.help.cloud,{frameW:1046,frameH:629,frameX:0,frameY:0})}if(this.nowGame===2){this.placeAsset_setFrame(this.stage.help.cloud,{frameW:1046,frameH:629,frameX:0,frameY:800})}this.hideContainer(["help_container","game_"+this.nowGame+"_container"])},playCountdown:function(){this.placeAsset_setFrame(this.stage.countdown.count_num,{frameW:1090,frameH:1800,frameX:0,frameY:0});this.hideContainer(["countdown_container","game_"+this.nowGame+"_container"]);this.countdown_remainTime=this.countdown_totalTime;_this=this;this.timer=window.setInterval(function(){if(_this.nowGame===1){_this.checkTimer("countdown","game_1")}if(_this.nowGame===2){_this.checkTimer("countdown","game_2")}},1000)},playGame_1:function(){for(var a=1;a<=20;a++){this.stage.game_1.spot["spot_"+a].status=1}this.stage.game_1.failure.bu_again.status=1;this.stage.game_1.success.bu_next.status=1;this.stage.game_1.spot_container.visible=true;this.stage.game_1.cursor.visible=true;this.stage.game_1.spot_container.visible=true;this.stage.game_1_container.status="play";this.stage.game_1.failure_container.visible=false;this.stage.game_1.success_container.visible=false;this.hideContainer(["game_1_container"]);this.game_1_remainTime=this.game_1_totalTime;_this=this;this.timer=window.setInterval(function(){_this.checkTimer("game_1")},1000)},playGame_2:function(){this.stage.game_2.part.head.status=1;this.stage.game_2.part.nose.status=1;this.stage.game_2.part.chin.status=1;this.stage.game_2.part.cheek_l.status=1;this.stage.game_2.part.cheek_r.status=1;this.stage.game_2.failure.bu_again.status=1;this.stage.game_2.success.bu_finish.status=1;this.stage.game_2.cursor.visible=true;this.stage.game_2.part_container.visible=true;this.stage.game_2_container.status="play";this.stage.game_2.failure_container.visible=false;this.stage.game_2.success_container.visible=false;this.hideContainer(["game_2_container"]);this.game_2_remainTime=this.game_2_totalTime;_this=this;this.timer=window.setInterval(function(){_this.checkTimer("game_2")},1000)},playEnd:function(){this.stage.end.finalcut.cloud.position.set(177,421);this.stage.end.finalcut.bu_restart.status=1;this.stage.end.finalcut.bu_try.status=1;var b=50-(this.game_1_remainTime+this.game_2_remainTime);var a=Math.floor(b/10);this.placeAsset_setFrame(this.stage.end.finalcut.cloud,{frameW:1046,frameH:629,frameX:0,frameY:700*a});this.hideContainer(["end_container"]);_this.stage.curtain.curtain_l.isMove=0;_this.stage.curtain.curtain_r.isMove=0;_this.stage.curtain.curtain_l.x=0;_this.stage.curtain.curtain_r.x=384;_this.stage.curtain_container.visible=true;_this.stage.end.finalcut_container.visible=true;_this.stage.end.finalcut.cloud.isAlpha=1;_this.stage.end.finalcut.cloud.isMove=1},checkTimer:function(b,a){if(b==="countdown"){this.countdown_remainTime--;if(this.countdown_remainTime>0){if(this.countdown_remainTime>=2){this.placeAsset_setFrame(this.stage.countdown.count_num,{frameW:1090,frameH:1800,frameX:0,frameY:1800*(this.countdown_totalTime-this.countdown_remainTime)})}else{this.placeAsset_setFrame(this.stage.countdown.count_num,{frameW:1090,frameH:1800,frameX:1090,frameY:0})}}if(this.countdown_remainTime===0){window.clearInterval(this.timer);if(a==="game_1"){this.playGame_1()}if(a==="game_2"){this.playGame_2()}}}if(b==="game_1"){this.game_1_remainTime--;if(this.game_1_remainTime>=0){if(this.game_1_remainTime>=11){this.stage.game_1.count_num_1.visible=true;this.stage.game_1.count_num_2.visible=false;if(this.game_1_remainTime>=21){this.placeAsset_setFrame(this.stage.game_1.count_num_1,{frameW:270,frameH:272,frameX:0,frameY:300*(this.game_1_totalTime-this.game_1_remainTime)})}else{this.placeAsset_setFrame(this.stage.game_1.count_num_1,{frameW:270,frameH:272,frameX:270,frameY:300*(this.game_1_totalTime-this.game_1_remainTime-10)})}}else{this.stage.game_1.count_num_1.visible=false;this.stage.game_1.count_num_2.visible=true;this.placeAsset_setFrame(this.stage.game_1.count_num_2,{frameW:270,frameH:272,frameX:0,frameY:300*(this.game_1_totalTime-this.game_1_remainTime-20)})}}else{window.clearInterval(this.timer);this.stage.game_1.spot_container.visible=false;this.stage.game_1_container.status="stop";this.stage.game_1.cursor.visible=false;this.stage.game_1.failure_container.visible=true}}if(b==="game_2"){this.game_2_remainTime--;if(this.game_2_remainTime>=0){if(this.game_2_remainTime>=11){this.placeAsset_setFrame(this.stage.game_2.count_num,{frameW:270,frameH:272,frameX:0,frameY:300*(this.game_2_totalTime-this.game_2_remainTime)})}else{this.placeAsset_setFrame(this.stage.game_2.count_num,{frameW:270,frameH:272,frameX:270,frameY:300*(this.game_2_totalTime-this.game_2_remainTime-10)})}}else{window.clearInterval(this.timer);this.stage.game_2.part_container.visible=false;this.stage.game_2_container.status="stop";this.stage.game_2.cursor.visible=false;this.stage.game_2.failure_container.visible=true}}},resetGame_1_container:function(){this.game_1_remainTime=0;this.game_1_deleteSpot=0;this.nowGame=1;this.placeAsset_setFrame(this.stage.game_1.count_num_1,{frameW:270,frameH:272,frameX:0,frameY:0});this.placeAsset_setFrame(this.stage.game_1.count_num_2,{frameW:270,frameH:272,frameX:0,frameY:0});for(var a=1;a<=20;a++){this.stage.game_1.lotion["lotion_"+a].visible=false;this.stage.game_1.lotion["lotion_"+a].isAlpha=false;this.stage.game_1.lotion["lotion_"+a].isMove=false;this.stage.game_1.spot["spot_"+a].visible=true}this.stage.game_1.cursor.visible=false;this.stage.game_1.count_num_1.vislble=true;this.stage.game_1.count_num_2.visible=false;this.stage.game_1.success_container.visible=false;this.stage.game_1.failure_container.visible=false;this.stage.game_1.spot_container.visible=false},resetGame_2_container:function(){this.game_2_remainTime=0;this.game_2_deletePart=0;this.nowGame=2;this.placeAsset_setFrame(this.stage.game_2.count_num,{frameW:270,frameH:272,frameX:0,frameY:0});var b=["head","nose","chin","cheek_l","cheek_r"];for(var a=0;a<b.length;a++){this.stage.game_2.part[b[a]].visible=true;this.stage.game_2.light[b[a]].visible=false;this.stage.game_2.light[b[a]].isAlpha=0;this.stage.game_2.light[b[a]].alpha=0;this.stage.game_2.oil[b[a]].visible=false;this.stage.game_2.oil[b[a]].isScale=0;this.stage.game_2.oil[b[a]].scale=0;this.stage.game_2.oil[b[a]].vScale=0.05;this.stage.game_2.oil[b[a]].isAlpha=0;this.stage.game_2.oil[b[a]].alpha=1}this.stage.game_2.cursor.visible=false;this.stage.game_2.success_container.visible=false;this.stage.game_2.failure_container.visible=false;this.stage.game_2.part_container.visible=false}};